# üõçÔ∏è VoiceMood - –°–∏—Å—Ç–µ–º–∞ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ—ó –∫–æ–º–µ—Ä—Ü—ñ—ó
## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –¥–ª—è –ø–æ—á–∞—Ç–∫—ñ–≤—Ü—ñ–≤

> **üí° –ü—Ä–∏–º—ñ—Ç–∫–∞:** –¶–µ–π –ø—Ä–æ–µ–∫—Ç —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–∏–π –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –ø–æ—Ç—Ä–µ–± —Ç–∏—Ö, —Ö—Ç–æ —Ç—ñ–ª—å–∫–∏ –ø–æ—á–∏–Ω–∞—î –≤–∏–≤—á–∞—Ç–∏ Java —Ç–∞ –≤–µ–±-—Ä–æ–∑—Ä–æ–±–∫—É. –£—Å—ñ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó –ø–æ—è—Å–Ω–µ–Ω—ñ –ø—Ä–æ—Å—Ç–æ—é –º–æ–≤–æ—é –∑ –ø—Ä–∏–∫–ª–∞–¥–∞–º–∏.

---

## üéØ –©–æ —Ç–∞–∫–µ VoiceMood?

VoiceMood - —Ü–µ **–ø–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω**, –Ω–∞–ø–∏—Å–∞–Ω–∏–π –Ω–∞ Java –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—É Spring Boot. –£—è–≤—ñ—Ç—å —Å–æ–±—ñ —Å–∞–π—Ç –Ω–∞ –∫—à—Ç–∞–ª—Ç Rozetka –∞–±–æ Amazon, –∞–ª–µ –≤ —Å–ø—Ä–æ—â–µ–Ω–æ–º—É –≤–∞—Ä—ñ–∞–Ω—Ç—ñ –¥–ª—è –Ω–∞–≤—á–∞–Ω–Ω—è.

### üîç –©–æ –º–æ–∂–Ω–∞ —Ä–æ–±–∏—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—ñ?
- üõí **–ü–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ —Ç–æ–≤–∞—Ä–∏** (–Ω–æ—É—Ç–±—É–∫–∏, —Ç–µ–ª–µ—Ñ–æ–Ω–∏, —Å–º–∞—Ä—Ç—Ñ–æ–Ω–∏)
- üí≥ **–ö—É–ø—É–≤–∞—Ç–∏ —Ç–æ–≤–∞—Ä–∏** –∑—ñ —Å–≤–æ—î–≥–æ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å—É
- üë§ **–†–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è —Ç–∞ –≤—Ö–æ–¥–∏—Ç–∏** –≤ —Å–∏—Å—Ç–µ–º—É
- üìä **–ü–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é –ø–æ–∫—É–ø–æ–∫** —ñ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- üéÅ **–û—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –∑–Ω–∏–∂–∫–∏** –∑–∞ –∞–∫—Ç–∏–≤–Ω—ñ –ø–æ–∫—É–ø–∫–∏
- üë®‚Äçüíº **–ö–µ—Ä—É–≤–∞—Ç–∏ –º–∞–≥–∞–∑–∏–Ω–æ–º** (–¥–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤)

---

## üß© –Ø–∫ –ø—Ä–∞—Ü—é—î —Å–∏—Å—Ç–µ–º–∞? (–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –Ω–æ–≤–∞—á–∫—ñ–≤)

### üèóÔ∏è –©–æ —Ç–∞–∫–µ Spring Boot?
**Spring Boot** - —Ü–µ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π –Ω–∞–±—ñ—Ä —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ –¥–ª—è Java, —è–∫–∏–π –¥–æ–ø–æ–º–∞–≥–∞—î —à–≤–∏–¥–∫–æ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –≤–µ–±-–¥–æ–¥–∞—Ç–∫–∏. –î—É–º–∞–π—Ç–µ –ø—Ä–æ —Ü–µ —è–∫ –ø—Ä–æ "–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä" –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º.

### üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É (—â–æ –¥–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è)
```
VoiceMood/
‚îú‚îÄ‚îÄ üìÅ src/main/java/org/example/     ‚Üê –¢—É—Ç –≤–µ—Å—å Java –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ entity/                    ‚Üê "–ú–æ–¥–µ–ª—ñ" (—â–æ –∑–±–µ—Ä—ñ–≥–∞—î–º–æ –≤ –ë–î)
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ repository/                ‚Üê "–°—Ö–æ–≤–∏—â–µ" (—è–∫ –ø—Ä–∞—Ü—é—î–º–æ –∑ –ë–î)
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ service/                   ‚Üê "–ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞" (–æ—Å–Ω–æ–≤–Ω—ñ –¥—ñ—ó)
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ controller/                ‚Üê "API" (—â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ –∑–∞–ø–∏—Ç–∏)
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ security/                  ‚Üê "–ë–µ–∑–ø–µ–∫–∞" (—Ö—Ç–æ –º–æ–∂–µ —â–æ —Ä–æ–±–∏—Ç–∏)
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ Application.java           ‚Üê –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª (–∑–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–∏)
‚îú‚îÄ‚îÄ üìÅ src/main/resources/            ‚Üê –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –≤–µ–±-—Ñ–∞–π–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ static/                    ‚Üê –í–µ–±-—Å—Ç–æ—Ä—ñ–Ω–∫–∏ (HTML, CSS, JS)
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ application.properties     ‚Üê –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏
‚îî‚îÄ‚îÄ üìÑ pom.xml                        ‚Üê –°–ø–∏—Å–æ–∫ –±—ñ–±–ª—ñ–æ—Ç–µ–∫ (—è–∫ package.json)
```

### üîÑ –Ø–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –≤–∑–∞—î–º–æ–¥—ñ—é—Ç—å –º—ñ–∂ —Å–æ–±–æ—é?
```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á ‚Üí –í–µ–±-—Å—Ç–æ—Ä—ñ–Ω–∫–∞ ‚Üí Controller ‚Üí Service ‚Üí Repository ‚Üí –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö
    ‚Üë                                                              ‚Üì
    ‚Üê‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï –í—ñ–¥–ø–æ–≤—ñ–¥—å ‚Üê‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï
```

1. **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á** –Ω–∞—Ç–∏—Å–∫–∞—î –∫–Ω–æ–ø–∫—É –Ω–∞ –≤–µ–±-—Å—Ç–æ—Ä—ñ–Ω—Ü—ñ
2. **JavaScript** –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –∑–∞–ø–∏—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä
3. **Controller** –ø—Ä–∏–π–º–∞—î –∑–∞–ø–∏—Ç —ñ —Ä–æ–∑—É–º—ñ—î, —â–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏
4. **Service** –≤–∏–∫–æ–Ω—É—î –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫—É (–ø–µ—Ä–µ–≤—ñ—Ä–∫–∏, —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏)
5. **Repository** –∑–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
6. –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –Ω–∞–∑–∞–¥ –¥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

---

## üéì –î–µ—Ç–∞–ª—å–Ω–∏–π —Ä–æ–∑–±—ñ—Ä –∫–æ–¥—É (–¥–ª—è –ø–æ—á–∞—Ç–∫—ñ–≤—Ü—ñ–≤)

### üìã Entity (–°—É—Ç–Ω–æ—Å—Ç—ñ) - –©–æ –∑–±–µ—Ä—ñ–≥–∞—î–º–æ?

Entity - —Ü–µ –∫–ª–∞—Å–∏, —è–∫—ñ –æ–ø–∏—Å—É—é—Ç—å, **—â–æ —Å–∞–º–µ –º–∏ –∑–±–µ—Ä—ñ–≥–∞—î–º–æ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö**. –ö–æ–∂–µ–Ω –∫–ª–∞—Å = –æ–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü—è –≤ –ë–î.

#### üë§ –ö–ª–∞—Å Customer (–ü–æ–∫—É–ø–µ—Ü—å)
```java
@Entity  // ‚Üê –ö–∞–∂–µ Spring: "–¶–µ —Ç–∞–±–ª–∏—Ü—è –≤ –ë–î"
public class Customer {
    @Id  // ‚Üê –¶–µ –≥–æ–ª–æ–≤–Ω–∏–π –∫–ª—é—á (—É–Ω—ñ–∫–∞–ª—å–Ω–∏–π –Ω–æ–º–µ—Ä)
    @GeneratedValue  // ‚Üê –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –Ω–æ–º–µ—Ä
    private Long id;
    
    private String username;     // –õ–æ–≥—ñ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
    private double money;        // –°–∫—ñ–ª—å–∫–∏ –≥—Ä–æ—à–µ–π —É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
    private float discount;      // –ó–Ω–∏–∂–∫–∞ —É –≤—ñ–¥—Å–æ—Ç–∫–∞—Ö
    
    // –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∏, –≥–µ—Ç—Ç–µ—Ä–∏ —Ç–∞ —Å–µ—Ç—Ç–µ—Ä–∏...
}
```

**ü§î –ß–æ–º—É —Ü–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ?** 
- –ö–æ–∂–µ–Ω –ø–æ–∫—É–ø–µ—Ü—å –º–∞—î —Å–≤—ñ–π —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π –Ω–æ–º–µ—Ä (id)
- –°–∏—Å—Ç–µ–º–∞ –∑–∞–ø–∞–º'—è—Ç–æ–≤—É—î –±–∞–ª–∞–Ω—Å —ñ –∑–Ω–∏–∂–∫–∏ –∫–æ–∂–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- Java –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î —Ç–∞–±–ª–∏—Ü—é –≤ –ë–î –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ü—å–æ–≥–æ –∫–ª–∞—Å—É

#### üõí –ö–ª–∞—Å Product (–¢–æ–≤–∞—Ä) - –ù–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è
```java
@Entity
@Inheritance(strategy = InheritanceType.JOINED)  // ‚Üê –Ø–∫ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è –≤ –ë–î
public abstract class Product {
    @Id
    @GeneratedValue
    private Long id;
    
    private String name;         // –ù–∞–∑–≤–∞ —Ç–æ–≤–∞—Ä—É
    private double price;        // –¶—ñ–Ω–∞
    private String firm;         // –í–∏—Ä–æ–±–Ω–∏–∫
    private int quantity;        // –ö—ñ–ª—å–∫—ñ—Å—Ç—å –Ω–∞ —Å–∫–ª–∞–¥—ñ
    
    // getters/setters...
}
```

**üéØ –ù–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è –ø—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**
Product - —Ü–µ "–∑–∞–≥–∞–ª—å–Ω–µ –ø–æ–Ω—è—Ç—Ç—è —Ç–æ–≤–∞—Ä—É". –ê–ª–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –º–∏ –ø—Ä–æ–¥–∞—î–º–æ –Ω–æ—É—Ç–±—É–∫–∏, —Ç–µ–ª–µ—Ñ–æ–Ω–∏ —Ç–æ—â–æ.

```java
@Entity
public class Laptop extends Product {  // ‚Üê Laptop "–Ω–∞—Å–ª—ñ–¥—É—î" –≤—ñ–¥ Product
    private double diagonal;    // –î—ñ–∞–≥–æ–Ω–∞–ª—å –µ–∫—Ä–∞–Ω—É
    private double weight;      // –í–∞–≥–∞
    private int coreNumber;     // –ö—ñ–ª—å–∫—ñ—Å—Ç—å —è–¥–µ—Ä –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞
    private int memory;         // –û–±—Å—è–≥ –ø–∞–º'—è—Ç—ñ
}
```

**‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏ –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è:**
- –ù–µ —Ç—Ä–µ–±–∞ –ø–æ–≤—Ç–æ—Ä—é–≤–∞—Ç–∏ –∫–æ–¥ (name, price –≤–∂–µ —î –≤ Product)
- –ú–æ–∂–Ω–∞ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ —É—Å—ñ–º–∞ —Ç–æ–≤–∞—Ä–∞–º–∏ –æ–¥–Ω–∞–∫–æ–≤–æ
- –õ–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ —Ç–∏–ø–∏ —Ç–æ–≤–∞—Ä—ñ–≤

### üóÑÔ∏è Repository (–†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π) - –Ø–∫ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –ë–î?

Repository - —Ü–µ "–ø–æ—Å–µ—Ä–µ–¥–Ω–∏–∫" –º—ñ–∂ –≤–∞—à–∏–º –∫–æ–¥–æ–º —ñ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö. Spring –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î –º–µ—Ç–æ–¥–∏ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –ë–î.

```java
@Repository
public interface CustomerRepository extends JpaRepository<Customer, Long> {
    // JpaRepository –≤–∂–µ –º–∞—î –≥–æ—Ç–æ–≤—ñ –º–µ—Ç–æ–¥–∏:
    // save(), findById(), findAll(), delete() —Ç–æ—â–æ
    
    // –ú–æ–∂–Ω–∞ –¥–æ–¥–∞–≤–∞—Ç–∏ —Å–≤–æ—ó –º–µ—Ç–æ–¥–∏:
    Optional<Customer> findByUsername(String username);
    // ‚Üë Spring –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–æ–∑—É–º—ñ—î: "–∑–Ω–∞–π–¥–∏ –ø–æ–∫—É–ø—Ü—è –∑–∞ –ª–æ–≥—ñ–Ω–æ–º"
    
    @Query("SELECT c FROM Customer c WHERE c.money > :amount")
    List<Customer> findRichCustomers(@Param("amount") double amount);
    // ‚Üë –í–ª–∞—Å–Ω–∏–π SQL-–∑–∞–ø–∏—Ç: –∑–Ω–∞–π—Ç–∏ –ø–æ–∫—É–ø—Ü—ñ–≤ –∑ –±–∞–ª–∞–Ω—Å–æ–º –±—ñ–ª—å—à–µ –ø–µ–≤–Ω–æ—ó —Å—É–º–∏
}
```

**üîç –©–æ —Ç—É—Ç –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è?**
- `JpaRepository<Customer, Long>` - –ø—Ä–∞—Ü—é—î–º–æ –∑ —Ç–∞–±–ª–∏—Ü–µ—é Customer, –∫–ª—é—á —Ç–∏–ø—É Long
- Spring **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ** —Å—Ç–≤–æ—Ä—é—î —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é –≤—Å—ñ—Ö –º–µ—Ç–æ–¥—ñ–≤
- –ù–∞–∑–≤–∞ –º–µ—Ç–æ–¥—É `findByUsername` –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –≤ SQL-–∑–∞–ø–∏—Ç

### üéØ Service (–°–µ—Ä–≤—ñ—Å) - –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞

Service –º—ñ—Å—Ç–∏—Ç—å **–æ—Å–Ω–æ–≤–Ω—É –ª–æ–≥—ñ–∫—É –ø—Ä–æ–≥—Ä–∞–º–∏** - —â–æ —ñ —è–∫ —Ä–æ–±–∏—Ç–∏.

```java
@Service  // ‚Üê –ö–∞–∂–µ Spring: "–¶–µ —Å–µ—Ä–≤—ñ—Å –∑ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–æ—é"
@Transactional  // ‚Üê –Ø–∫—â–æ —â–æ—Å—å –ø—ñ—à–ª–æ –Ω–µ —Ç–∞–∫ - –≤—ñ–¥–∫–∞—Ç–∏—Ç–∏ –∑–º—ñ–Ω–∏ –≤ –ë–î
public class PurchaseService {
    
    @Autowired  // ‚Üê Spring –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥–∫–ª—é—á–∞—î –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
    private CustomerService customerService;
    
    @Autowired
    private ProductService productService;
    
    public boolean makePurchase(Long customerId, Long productId) {
        // 1. –ó–Ω–∞—Ö–æ–¥–∏–º–æ –ø–æ–∫—É–ø—Ü—è
        Customer customer = customerService.getCustomerById(customerId)
            .orElseThrow(() -> new RuntimeException("–ü–æ–∫—É–ø–µ—Ü—å –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∏–π"));
        
        // 2. –ó–Ω–∞—Ö–æ–¥–∏–º–æ —Ç–æ–≤–∞—Ä
        Product product = productService.getProductById(productId)
            .orElseThrow(() -> new RuntimeException("–¢–æ–≤–∞—Ä –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∏–π"));
        
        // 3. –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ —î —Ç–æ–≤–∞—Ä –Ω–∞ —Å–∫–ª–∞–¥—ñ
        if (product.getQuantity() <= 0) {
            throw new RuntimeException("–¢–æ–≤–∞—Ä—É –Ω–µ–º–∞—î –Ω–∞ —Å–∫–ª–∞–¥—ñ");
        }
        
        // 4. –†–æ–∑—Ä–∞—Ö–æ–≤—É—î–º–æ –∑–Ω–∏–∂–∫—É
        float customerDiscount = customer.getIndividualDiscount();
        float productMaxDiscount = product.getMaxDiscountPercentage();
        float appliedDiscount = Math.min(customerDiscount, productMaxDiscount);
        
        // 5. –†–æ–∑—Ä–∞—Ö–æ–≤—É—î–º–æ —Ñ—ñ–Ω–∞–ª—å–Ω—É —Ü—ñ–Ω—É
        double originalPrice = product.getPrice();
        double finalPrice = originalPrice * (1 - appliedDiscount / 100.0);
        
        // 6. –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –≤–∏—Å—Ç–∞—á–∞—î –≥—Ä–æ—à–µ–π
        if (customer.getMoney() >= finalPrice) {
            // 7. –°–ø–∏—Å—É—î–º–æ –≥—Ä–æ—à—ñ
            customer.setMoney(customer.getMoney() - finalPrice);
            
            // 8. –ó–º–µ–Ω—à—É—î–º–æ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–æ–≤–∞—Ä—É
            product.setQuantity(product.getQuantity() - 1);
            
            // 9. –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –∑–º—ñ–Ω–∏
            customerService.saveCustomer(customer);
            productService.saveProduct(product);
            
            return true;  // –ü–æ–∫—É–ø–∫–∞ —É—Å–ø—ñ—à–Ω–∞
        } else {
            throw new RuntimeException("–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –∫–æ—à—Ç—ñ–≤");
        }
    }
}
```

**üß† –ß–æ–º—É —Å–∞–º–µ —Ç–∞–∫?**
- –í—Å—è –ª–æ–≥—ñ–∫–∞ –ø–æ–∫—É–ø–∫–∏ –∑—ñ–±—Ä–∞–Ω–∞ –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ
- `@Transactional` –≥–∞—Ä–∞–Ω—Ç—É—î: –∞–±–æ –≤—Å—ñ –∑–º—ñ–Ω–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è, –∞–±–æ –∂–æ–¥–Ω–∞
- –ö–æ–∂–µ–Ω –∫—Ä–æ–∫ –ª–æ–≥—ñ—á–Ω–∏–π —ñ –∑—Ä–æ–∑—É–º—ñ–ª–∏–π

### üåê Controller (–ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä) - API –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É

Controller –æ–±—Ä–æ–±–ª—è—î **HTTP-–∑–∞–ø–∏—Ç–∏** –∑ –≤–µ–±-—Å—Ç–æ—Ä—ñ–Ω–∫–∏ —ñ –ø–æ–≤–µ—Ä—Ç–∞—î –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ.

```java
@RestController  // ‚Üê –¶–µ REST API –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä
@RequestMapping("/api/purchases")  // ‚Üê –í—Å—ñ –º–µ—Ç–æ–¥–∏ –±—É–¥—É—Ç—å –ø–æ—á–∏–Ω–∞—Ç–∏—Å—è –∑ /api/purchases
@CrossOrigin(origins = "*")  // ‚Üê –î–æ–∑–≤–æ–ª–∏—Ç–∏ –∑–∞–ø–∏—Ç–∏ –∑ –±—É–¥—å-—è–∫–∏—Ö –¥–æ–º–µ–Ω—ñ–≤
public class PurchaseController {
    
    @Autowired
    private PurchaseService purchaseService;
    
    @PostMapping  // ‚Üê –û–±—Ä–æ–±–ª—è—î POST –∑–∞–ø–∏—Ç–∏ –Ω–∞ /api/purchases
    public ResponseEntity<Map<String, Object>> makePurchase(
            @RequestParam Long customerId,   // ‚Üê –ü–∞—Ä–∞–º–µ—Ç—Ä –∑ URL: ?customerId=123
            @RequestParam Long productId) {  // ‚Üê –ü–∞—Ä–∞–º–µ—Ç—Ä –∑ URL: ?productId=456
        
        try {
            // –û—Ç—Ä–∏–º—É—î–º–æ –¥–∞–Ω—ñ –ü–ï–†–ï–î –ø–æ–∫—É–ø–∫–æ—é (–¥–ª—è –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ)
            Customer customer = customerService.getCustomerById(customerId).get();
            Product product = productService.getProductById(productId).get();
            
            // –†–æ–∑—Ä–∞—Ö—É–Ω–∫–∏ –¥–ª—è –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
            double originalPrice = product.getPrice();
            float appliedDiscount = Math.min(
                customer.getIndividualDiscount(), 
                product.getMaxDiscountPercentage()
            );
            double finalPrice = originalPrice * (1 - appliedDiscount / 100.0);
            
            // –í–∏–∫–æ–Ω—É—î–º–æ –ø–æ–∫—É–ø–∫—É
            boolean success = purchaseService.makePurchase(customerId, productId);
            
            if (success) {
                // –û—Ç—Ä–∏–º—É—î–º–æ –æ–Ω–æ–≤–ª–µ–Ω—ñ –¥–∞–Ω—ñ –ø–æ–∫—É–ø—Ü—è
                Customer updatedCustomer = customerService.getCustomerById(customerId).get();
                
                // –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ –¥–µ—Ç–∞–ª—å–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å
                return ResponseEntity.ok(Map.of(
                    "success", true,
                    "message", "–ü–æ–∫—É–ø–∫–∞ —É—Å–ø—ñ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!",
                    "productName", product.getName(),
                    "originalPrice", originalPrice,
                    "finalPrice", finalPrice,
                    "appliedDiscount", appliedDiscount,
                    "remainingMoney", updatedCustomer.getMoney()
                ));
            } else {
                return ResponseEntity.badRequest().body(Map.of(
                    "success", false,
                    "message", "–ü–æ–∫—É–ø–∫–∞ –Ω–µ –≤–¥–∞–ª–∞—Å—è"
                ));
            }
        } catch (Exception e) {
            // –Ø–∫—â–æ —Å—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞ - –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ –¥–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é
            return ResponseEntity.status(500).body(Map.of(
                "success", false,
                "message", e.getMessage()
            ));
        }
    }
}
```

**üîó –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î –∑ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º?**
JavaScript —Ä–æ–±–∏—Ç—å –∑–∞–ø–∏—Ç:
```javascript
fetch('/api/purchases?customerId=123&productId=456', { method: 'POST' })
```

–°–µ—Ä–≤–µ—Ä –ø–æ–≤–µ—Ä—Ç–∞—î JSON:
```json
{
  "success": true,
  "message": "–ü–æ–∫—É–ø–∫–∞ —É—Å–ø—ñ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!",
  "productName": "iPhone 14",
  "originalPrice": 25000.0,
  "finalPrice": 22500.0,
  "appliedDiscount": 10.0,
  "remainingMoney": 7500.0
}
```

---

## üîê JWT –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è (–ë–µ–∑–ø–µ–∫–∞ –¥–ª—è –ø–æ—á–∞—Ç–∫—ñ–≤—Ü—ñ–≤)

### ü§î –©–æ —Ç–∞–∫–µ JWT?
**JWT (JSON Web Token)** - —Ü–µ "—Ü–∏—Ñ—Ä–æ–≤–∏–π –ø—Ä–æ–ø—É—Å–∫", —è–∫–∏–π –¥–æ–≤—ñ—Ä—è—î, —â–æ –≤–∏ - —Ü–µ –≤–∏.

**–ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:**
1. –í–∏ –≤–≤–æ–¥–∏—Ç–µ –ª–æ–≥—ñ–Ω/–ø–∞—Ä–æ–ª—å
2. –°–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–≤—ñ—Ä—è—î —ñ –¥–∞—î –≤–∞–º "—Ç–æ–∫–µ–Ω" (–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–π —Ç–µ–∫—Å—Ç)
3. –ü—Ä–∏ –∫–æ–∂–Ω–æ–º—É –∑–∞–ø–∏—Ç—ñ –≤–∏ –ø–æ–∫–∞–∑—É—î—Ç–µ —Ü–µ–π —Ç–æ–∫–µ–Ω
4. –°–µ—Ä–≤–µ—Ä —Ä–æ–∑—à–∏—Ñ—Ä–æ–≤—É—î —ñ —Ä–æ–∑—É–º—ñ—î, —Ö—Ç–æ –≤–∏ —ñ —â–æ –º–æ–∂–µ—Ç–µ —Ä–æ–±–∏—Ç–∏

### üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è JWT
```properties
# application.properties
jwt.secret=MyVeryLongAndSecureSecretKeyForJWTTokenGenerationThatShouldBeAtLeast64Characters!!
jwt.expiration=1200000  # 20 —Ö–≤–∏–ª–∏–Ω —É –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥–∞—Ö
```

### üõ°Ô∏è JWT –£—Ç–∏–ª—ñ—Ç–∏
```java
@Component
public class JwtUtils {
    
    @Value("${jwt.secret}")  // ‚Üê –ß–∏—Ç–∞—î–º–æ —Å–µ–∫—Ä–µ—Ç–Ω–∏–π –∫–ª—é—á –∑ application.properties
    private String jwtSecret;
    
    @Value("${jwt.expiration}")
    private int jwtExpirationMs;
    
    // –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–æ–∫–µ–Ω –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
    public String generateJwtToken(String username, String role) {
        return Jwts.builder()
            .setSubject(username)                    // –õ–æ–≥—ñ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
            .claim("role", role)                     // –†–æ–ª—å (USER/ADMIN)
            .setIssuedAt(new Date())                 // –ö–æ–ª–∏ —Å—Ç–≤–æ—Ä–µ–Ω–æ
            .setExpiration(new Date(System.currentTimeMillis() + jwtExpirationMs))  // –ö–æ–ª–∏ –∑–∞–∫—ñ–Ω—á—É—î—Ç—å—Å—è
            .signWith(SignatureAlgorithm.HS512, jwtSecret)  // –ü—ñ–¥–ø–∏—Å–∞—Ç–∏ —Å–µ–∫—Ä–µ—Ç–Ω–∏–º –∫–ª—é—á–µ–º
            .compact();
    }
    
    // –û—Ç—Ä–∏–º–∞—Ç–∏ –ª–æ–≥—ñ–Ω –∑ —Ç–æ–∫–µ–Ω–∞
    public String getUsernameFromJwtToken(String token) {
        return Jwts.parser()
            .setSigningKey(jwtSecret)
            .parseClaimsJws(token)
            .getBody()
            .getSubject();
    }
    
    // –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ —Ç–æ–∫–µ–Ω —â–µ –¥—ñ–π—Å–Ω–∏–π
    public boolean validateJwtToken(String authToken) {
        try {
            Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(authToken);
            return true;
        } catch (JwtException | IllegalArgumentException e) {
            return false;  // –¢–æ–∫–µ–Ω –Ω–µ–¥—ñ–π—Å–Ω–∏–π
        }
    }
}
```

### üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–æ–∫–µ–Ω—ñ–≤
```javascript
// JavaScript –∫–æ–¥ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ñ
async function refreshTokenIfNeeded() {
    const token = localStorage.getItem('authToken');
    const expiryTime = getTokenExpiryTime(token);  // –û—Ç—Ä–∏–º—É—î–º–æ —á–∞—Å –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è
    const currentTime = new Date();
    const timeLeft = expiryTime - currentTime;
    const fifteenMinutes = 15 * 60 * 1000;  // 15 —Ö–≤–∏–ª–∏–Ω
    
    // –Ø–∫—â–æ –∑–∞–ª–∏—à–∏–ª–æ—Å—å –º–µ–Ω—à–µ 15 —Ö–≤–∏–ª–∏–Ω - –æ–Ω–æ–≤–ª—é—î–º–æ —Ç–æ–∫–µ–Ω
    if (timeLeft < fifteenMinutes && timeLeft > 0) {
        const response = await fetch('/api/auth/refresh-token', {
            method: 'POST',
            headers: { 'Authorization': token }
        });
        
        const data = await response.json();
        if (data.success) {
            localStorage.setItem('authToken', data.token);  // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –Ω–æ–≤–∏–π —Ç–æ–∫–µ–Ω
        }
    }
}

// –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –∫–æ–∂–Ω—ñ 2 —Ö–≤–∏–ª–∏–Ω–∏
setInterval(refreshTokenIfNeeded, 2 * 60 * 1000);
```

---

## üé® –§—Ä–æ–Ω—Ç–µ–Ω–¥ (–í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø–æ—á–∞—Ç–∫—ñ–≤—Ü—ñ–≤)

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É
```
static/
‚îú‚îÄ‚îÄ üìÑ index.html          ‚Üê –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
‚îú‚îÄ‚îÄ üìÅ css/
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ style.css       ‚Üê –°—Ç–∏–ª—ñ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è
‚îî‚îÄ‚îÄ üìÅ js/
    ‚îú‚îÄ‚îÄ üìÑ app.js          ‚Üê –û—Å–Ω–æ–≤–Ω–∞ –ª–æ–≥—ñ–∫–∞
    ‚îú‚îÄ‚îÄ üìÑ auth.js         ‚Üê –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è
    ‚îú‚îÄ‚îÄ üìÑ products.js     ‚Üê –†–æ–±–æ—Ç–∞ –∑ —Ç–æ–≤–∞—Ä–∞–º–∏
    ‚îú‚îÄ‚îÄ üìÑ purchase.js     ‚Üê –ü–æ–∫—É–ø–∫–∏
    ‚îú‚îÄ‚îÄ üìÑ history.js      ‚Üê –Ü—Å—Ç–æ—Ä—ñ—è –ø–æ–∫—É–ø–æ–∫
    ‚îî‚îÄ‚îÄ üìÑ admin.js        ‚Üê –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å
```

### üîó –Ø–∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Å–ø—ñ–ª–∫—É—î—Ç—å—Å—è –∑ –±–µ–∫–µ–Ω–¥–æ–º?
```javascript
// –ü—Ä–∏–∫–ª–∞–¥ –ø–æ–∫—É–ø–∫–∏ —Ç–æ–≤–∞—Ä—É
async function buyProduct(customerId, productId) {
    try {
        // –í—ñ–¥–ø—Ä–∞–≤–ª—è—î–º–æ POST –∑–∞–ø–∏—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä
        const response = await fetch(`/api/purchases?customerId=${customerId}&productId=${productId}`, {
            method: 'POST',
            headers: {
                'Authorization': localStorage.getItem('authToken'),  // JWT —Ç–æ–∫–µ–Ω
                'Content-Type': 'application/json'
            }
        });
        
        // –û—Ç—Ä–∏–º—É—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—å —É —Ñ–æ—Ä–º–∞—Ç—ñ JSON
        const data = await response.json();
        
        if (data.success) {
            // –ü–æ–∫–∞–∑—É—î–º–æ —É—Å–ø—ñ—à–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
            showMessage(`‚úÖ –ü–æ–∫—É–ø–∫–∞ —É—Å–ø—ñ—à–Ω–∞! –ó–∞–ª–∏—à–æ–∫: ${data.remainingMoney}‚Ç¥`);
            updateUserBalance(data.remainingMoney);  // –û–Ω–æ–≤–ª—é—î–º–æ –±–∞–ª–∞–Ω—Å –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ
        } else {
            // –ü–æ–∫–∞–∑—É—î–º–æ –ø–æ–º–∏–ª–∫—É
            showMessage(`‚ùå –ü–æ–º–∏–ª–∫–∞: ${data.message}`);
        }
    } catch (error) {
        console.error('–ü–æ–º–∏–ª–∫–∞ –ø–æ–∫—É–ø–∫–∏:', error);
        showMessage('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑\'—î–¥–Ω–∞–Ω–Ω—è –∑ —Å–µ—Ä–≤–µ—Ä–æ–º');
    }
}
```

### üóÇÔ∏è –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å—Ç–∞–Ω–æ–º –¥–æ–¥–∞—Ç–∫—É
```javascript
// –ì–ª–æ–±–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å—Ç–∞–Ω—É
let currentUser = null;        // –ü–æ—Ç–æ—á–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á
let selectedProductId = null;  // –û–±—Ä–∞–Ω–∏–π —Ç–æ–≤–∞—Ä
let products = [];             // –°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö —Ç–æ–≤–∞—Ä—ñ–≤

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
function updateUserInfo() {
    if (!currentUser) return;
    
    let userInfo = '';
    if (currentUser.role === 'ADMIN') {
        userInfo = `üë®‚Äçüíº ${currentUser.username} | –ë–∞–ª–∞–Ω—Å: ${currentUser.balance.toFixed(2)}‚Ç¥`;
    } else {
        userInfo = `üë§ ${currentUser.username} | –ë–∞–ª–∞–Ω—Å: ${currentUser.balance.toFixed(2)}‚Ç¥ | –ó–Ω–∏–∂–∫–∞: ${currentUser.discount.toFixed(1)}%`;
    }
    
    document.getElementById('userInfo').innerHTML = userInfo;
}
```

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç—É (–ü–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è)

### üìã –ü–µ—Ä–µ–¥—É–º–æ–≤–∏
1. **Java 17+** - –º–æ–≤–∞ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è
2. **MySQL 8.0+** - –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
3. **Maven 3.6+** - —Å–∏—Å—Ç–µ–º–∞ –∑–±—ñ—Ä–∫–∏ (–∑–∞–∑–≤–∏—á–∞–π –≤–±—É–¥–æ–≤–∞–Ω–∞ –≤ IDE)
4. **IDE** - IntelliJ IDEA –∞–±–æ Eclipse

### üóÑÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
1. **–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å MySQL** —ñ —Å—Ç–≤–æ—Ä—ñ—Ç—å –±–∞–∑—É –¥–∞–Ω–∏—Ö:
```sql
CREATE DATABASE voicemood_db;
CREATE USER 'voicemood_user'@'localhost' IDENTIFIED BY 'password123';
GRANT ALL PRIVILEGES ON voicemood_db.* TO 'voicemood_user'@'localhost';
FLUSH PRIVILEGES;
```

2. **–ù–∞–ª–∞—à—Ç—É–π—Ç–µ application.properties:**
```properties
# –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
spring.datasource.url=jdbc:mysql://localhost:3306/voicemood_db
spring.datasource.username=voicemood_user
spring.datasource.password=password123

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# JWT –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
jwt.secret=MyVeryLongAndSecureSecretKeyForJWTTokenGenerationThatShouldBeAtLeast64Characters!!
jwt.expiration=1200000
```

### ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–∏
1. **–ó –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞:**
```bash
mvn spring-boot:run
```

2. **–ó IDE:** –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∫–ª–∞—Å `Application.java`

3. **–í—ñ–¥–∫—Ä–∏–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä:** http://localhost:8080

### üë• –¢–µ—Å—Ç–æ–≤—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ
```
–ó–≤–∏—á–∞–π–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á:
‚îú‚îÄ‚îÄ –õ–æ–≥—ñ–Ω: testuser
‚îî‚îÄ‚îÄ –ü–∞—Ä–æ–ª—å: password123

–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä:
‚îú‚îÄ‚îÄ –õ–æ–≥—ñ–Ω: admin
‚îî‚îÄ‚îÄ –ü–∞—Ä–æ–ª—å: admin123

–ì—ñ—Å—Ç—å:
‚îî‚îÄ‚îÄ –ö–Ω–æ–ø–∫–∞ "–£–≤—ñ–π—Ç–∏ —è–∫ –≥—ñ—Å—Ç—å" (–±–µ–∑ –ø–∞—Ä–æ–ª—è)
```

---

## üîß –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —á–∞—Å—Ç–∏—Ö –ø—Ä–æ–±–ª–µ–º

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: "–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —ñ—Å—Ç–æ—Ä—ñ—ó –ø–æ–∫—É–ø–æ–∫"
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ URL'–∏ –≤ JavaScript –∞–±–æ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ñ–∞–π–ª `history.js` - URL –ø–æ–≤–∏–Ω–Ω—ñ –±—É—Ç–∏:
   ```javascript
   fetch(`/api/purchases/history/${customerId}`)      // ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
   fetch(`/api/purchases/statistics/${customerId}`)   // ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
   ```

2. –û—á–∏—Å—Ç—ñ—Ç—å –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞: `Ctrl+Shift+R`

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: "Cannot read properties of undefined (reading 'toFixed')"
**–ü—Ä–∏—á–∏–Ω–∞:** –°–µ—Ä–≤–µ—Ä –ø–æ–≤–µ—Ä—Ç–∞—î –¥–∞–Ω—ñ –Ω–µ –≤ —Ç–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ, —è–∫–∏–π –æ—á—ñ–∫—É—î JavaScript

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ Controller –ø–æ–≤–µ—Ä—Ç–∞—î –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –ø–æ–ª—è:
   ```java
   return ResponseEntity.ok(Map.of(
       "success", true,
       "finalPrice", finalPrice,        // ‚Üê –û–±–æ–≤'—è–∑–∫–æ–≤–æ —á–∏—Å–ª–æ
       "remainingMoney", customerAfter.getMoney()  // ‚Üê –û–±–æ–≤'—è–∑–∫–æ–≤–æ —á–∏—Å–ª–æ
   ));
   ```

2. –£ JavaScript –¥–æ–¥–∞–π—Ç–µ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏:
   ```javascript
   if (data.finalPrice !== undefined) {
       const priceText = data.finalPrice.toFixed(2);
   }
   ```

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: 404 NOT FOUND –¥–ª—è API
**–ü—Ä–∏—á–∏–Ω–∞:** Endpoint –Ω–µ —ñ—Å–Ω—É—î –∞–±–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π URL

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∞–Ω–æ—Ç–∞—Ü—ñ—ó –≤ Controller:
   ```java
   @RestController
   @RequestMapping("/api/purchases")  // ‚Üê –ë–∞–∑–æ–≤–∏–π —à–ª—è—Ö
   public class PurchaseController {
       
       @PostMapping  // ‚Üê POST /api/purchases
       public ResponseEntity<Map<String, Object>> makePurchase(...) {
   ```

2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ JavaScript –∑–∞–ø–∏—Ç:
   ```javascript
   fetch('/api/purchases?customerId=123&productId=456', { method: 'POST' })
   ```

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –ö–µ—à –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–µ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è
**–†—ñ—à–µ–Ω–Ω—è:** –î–æ–¥–∞–π—Ç–µ –≤–µ—Ä—Å—ñ—ó –¥–æ JavaScript —Ñ–∞–π–ª—ñ–≤:
```html
<script src="js/app.js?v=1.1"></script>
<script src="js/history.js?v=1.1"></script>
```

### ‚ö° –û—Å—Ç–∞–Ω–Ω—ñ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è (2025-06-10)

#### üîß –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ PurchaseController
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä –ø–æ–≤–µ—Ä—Ç–∞–≤ —Ç—ñ–ª—å–∫–∏ `success` —ñ `message`
- **–†—ñ—à–µ–Ω–Ω—è:** –î–æ–¥–∞–Ω–æ –¥–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –ø–æ–∫—É–ø–∫—É:
  ```java
  return ResponseEntity.ok(Map.of(
      "success", true,
      "productName", product.getName(),
      "finalPrice", finalPrice,
      "remainingMoney", customerAfter.getMoney()
  ));
  ```

#### üîó –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ URL'–∏ —ñ—Å—Ç–æ—Ä—ñ—ó –ø–æ–∫—É–ø–æ–∫
- **–ü—Ä–æ–±–ª–µ–º–∞:** JavaScript –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ URL –∑ query –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- **–†—ñ—à–µ–Ω–Ω—è:** –ó–º—ñ–Ω–µ–Ω–æ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ URL:
  ```javascript
  // –ë—É–ª–æ: /api/purchases/history?customerId=123
  // –°—Ç–∞–ª–æ: /api/purchases/history/123
  fetch(`/api/purchases/history/${customerId}`)
  ```

#### üöÄ –î–æ–¥–∞–Ω–æ –≤–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è JavaScript
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ö–µ—à –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–µ –æ–Ω–æ–≤–ª—é–≤–∞–≤—Å—è
- **–†—ñ—à–µ–Ω–Ω—è:** –î–æ–¥–∞–Ω–æ –≤–µ—Ä—Å—ñ—ó –¥–æ –≤—Å—ñ—Ö JS —Ñ–∞–π–ª—ñ–≤ `?v=1.1`

---

## üìä API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è (–ü–æ–≤–Ω–∞)

### üîê –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è `/api/auth`

#### POST `/api/auth/register` - –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
**–ó–∞–ø–∏—Ç:**
```json
{
  "username": "newuser",
  "email": "user@example.com",
  "password": "securepassword"
}
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å (—É—Å–ø—ñ—Ö):**
```json
{
  "success": true,
  "message": "–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —É—Å–ø—ñ—à–Ω–æ –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∏–π",
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": 1,
    "username": "newuser",
    "role": "USER",
    "balance": 5000.0
  }
}
```

#### POST `/api/auth/login` - –í—Ö—ñ–¥
**–ó–∞–ø–∏—Ç:**
```json
{
  "username": "testuser",
  "password": "password123"
}
```

#### POST `/api/auth/refresh-token` - –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–æ–∫–µ–Ω–∞
**–ó–∞–≥–æ–ª–æ–≤–æ–∫:**
```
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "success": true,
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": { ... }
}
```

### üõí –¢–æ–≤–∞—Ä–∏ `/api/products`

#### GET `/api/products` - –°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö —Ç–æ–≤–∞—Ä—ñ–≤
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
[
  {
    "id": 1,
    "name": "MacBook Pro 13",
    "price": 25000.0,
    "firm": "Apple",
    "quantity": 5,
    "maxDiscountPercentage": 10.0,
    "imageURL": "https://example.com/macbook.jpg",
    "type": "Laptop",
    "diagonal": 13.3,
    "weight": 1.4,
    "coreNumber": 8,
    "memory": 8192
  }
]
```

#### GET `/api/products/{id}` - –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ç–æ–≤–∞—Ä
#### GET `/api/products/search?name=MacBook` - –ü–æ—à—É–∫ —Ç–æ–≤–∞—Ä—ñ–≤

#### GET `/api/products/calculate-price` - –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Ü—ñ–Ω–∏ –∑ –∑–Ω–∏–∂–∫–æ—é
**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:** `?customerId=123&productId=456`
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "success": true,
  "originalPrice": 25000.0,
  "customerDiscount": 5.0,
  "maxProductDiscount": 10.0,
  "appliedDiscount": 5.0,
  "finalPrice": 23750.0,
  "savings": 1250.0
}
```

### üí≥ –ü–æ–∫—É–ø–∫–∏ `/api/purchases`

#### POST `/api/purchases` - –ö—É–ø–∏—Ç–∏ —Ç–æ–≤–∞—Ä
**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:** `?customerId=123&productId=456`
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "success": true,
  "message": "–ü–æ–∫—É–ø–∫–∞ —É—Å–ø—ñ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!",
  "productName": "MacBook Pro 13",
  "productFirm": "Apple",
  "originalPrice": 25000.0,
  "finalPrice": 23750.0,
  "appliedDiscount": 5.0,
  "remainingMoney": 21250.0
}
```

#### GET `/api/purchases/history/{customerId}` - –Ü—Å—Ç–æ—Ä—ñ—è –ø–æ–∫—É–ø–æ–∫
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "success": true,
  "purchases": [
    {
      "id": 1,
      "customerId": 123,
      "productId": 456,
      "productName": "MacBook Pro 13",
      "productFirm": "Apple",
      "originalPrice": 25000.0,
      "finalPrice": 23750.0,
      "appliedDiscount": 5.0,
      "purchaseDate": "2025-06-10T15:30:00"
    }
  ],
  "count": 1
}
```

#### GET `/api/purchases/statistics/{customerId}` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–∫—É–ø–æ–∫
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "success": true,
  "statistics": {
    "totalSpent": 47500.0,
    "purchaseCount": 2,
    "averagePurchase": 23750.0,
    "topProducts": [
      ["MacBook Pro 13", 2],
      ["iPhone 14", 1]
    ]
  }
}
```

---

## üéì –ü–æ—Ä–∞–¥–∏ –¥–ª—è –ø–æ—á–∞—Ç–∫—ñ–≤—Ü—ñ–≤

### üìö –©–æ –≤–∏–≤—á–∏—Ç–∏ –¥–∞–ª—ñ?
1. **Spring Security** - —Ä–æ–∑—à–∏—Ä–µ–Ω–∞ –±–µ–∑–ø–µ–∫–∞
2. **Spring Data JPA** - —Å–∫–ª–∞–¥–Ω—ñ—à—ñ –∑–∞–ø–∏—Ç–∏ –¥–æ –ë–î
3. **Docker** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è –¥–æ–¥–∞—Ç–∫—ñ–≤
4. **React/Vue.js** - —Å—É—á–∞—Å–Ω–∏–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
5. **Microservices** - –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –≤–µ–ª–∏–∫–∏—Ö —Å–∏—Å—Ç–µ–º

### üõ†Ô∏è –Ø–∫ —Ä–æ–∑—à–∏—Ä–∏—Ç–∏ –ø—Ä–æ–µ–∫—Ç?
1. **–î–æ–¥–∞—Ç–∏ –Ω–æ–≤—ñ —Ç–∏–ø–∏ —Ç–æ–≤–∞—Ä—ñ–≤** (—Ç–µ–ª–µ–≤—ñ–∑–æ—Ä–∏, –ø–ª–∞–Ω—à–µ—Ç–∏)
2. **–†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∫–æ—à–∏–∫ –ø–æ–∫—É–ø–æ–∫** (–∫—É–ø—ñ–≤–ª—è –∫—ñ–ª—å–∫–æ—Ö —Ç–æ–≤–∞—Ä—ñ–≤ –æ–¥–Ω–æ—á–∞—Å–Ω–æ)
3. **–î–æ–¥–∞—Ç–∏ —Å–∏—Å—Ç–µ–º—É –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ —Ç–∞ –æ—Ü—ñ–Ω–æ–∫**
4. **–Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –ø–ª–∞—Ç—ñ–∂–Ω—ñ —Å–∏—Å—Ç–µ–º–∏** (PayPal, Stripe)
5. **–î–æ–¥–∞—Ç–∏ email-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è** –ø—Ä–æ –ø–æ–∫—É–ø–∫–∏

### üîç –ö–æ—Ä–∏—Å–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏
- [Spring Boot Guide](https://spring.io/guides)
- [JPA Tutorial](https://www.baeldung.com/learn-jpa-hibernate)
- [JWT Explanation](https://jwt.io/introduction)
- [REST API Best Practices](https://restfulapi.net/)

---

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ç–∞ —Ä–æ–∑–≤–∏—Ç–æ–∫

–Ø–∫—â–æ —É –≤–∞—Å –≤–∏–Ω–∏–∫–ª–∏ –ø–∏—Ç–∞–Ω–Ω—è –∞–±–æ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –¥–æ–ø–æ–º–æ–≥–∞:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ü—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é - –±—ñ–ª—å—à—ñ—Å—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π —Ç—É—Ç
2. –ü–æ–¥–∏–≤—ñ—Ç—å—Å—è —Å–µ–∫—Ü—ñ—é "–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —á–∞—Å—Ç–∏—Ö –ø—Ä–æ–±–ª–µ–º"
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –≤ –∫–æ–Ω—Å–æ–ª—ñ
4. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ F12 –≤ –±—Ä–∞—É–∑–µ—Ä—ñ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –º–µ—Ä–µ–∂–µ–≤–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤

**–£–¥–∞—á—ñ —É –≤–∏–≤—á–µ–Ω–Ω—ñ Spring Boot! üöÄ** 